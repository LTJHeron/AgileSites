<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateD/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/AssetType/Page/SearchForm.xml $ 
$Revision: 30 $ 
$Modtime: 5/10/04 1:16p $ 
-->

<!--
- Confidential and Proprietary Information of Open Market, Inc.
-					All Rights Reserved.
-
- DESCRIPTION
-	Search form
-->


<callelement NAME="OpenMarket/Xcelerate/AssetType/Page/ManageSchVars"/>
<table border="0" cellspacing="0" cellpadding="0">

	<tr>
		<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/Namecontains"/>:</td>
		<td><img height="1" width="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
		<td><![CDATA[<INPUT TYPE="text" NAME="Name" SIZE="24" VALUE="]]><STRING.STREAM VALUE="Variables.Name"/><![CDATA[" MAXLENGTH="128" />]]></td>
	</tr>
  	
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
	<tr>
		<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/AT/Descriptioncontains"/>:</td>
        <td></td>
		<td><![CDATA[<INPUT TYPE="text" NAME="Description" VALUE="]]><STRING.STREAM VALUE="Variables.Description"/><![CDATA[" SIZE="24" MAXLENGTH="32"/>]]>
		</td>
	</tr>

	<XLAT.LOOKUP KEY="dvin/Common/Templateis" VARNAME="label"/>
	<callelement NAME="OpenMarket/Xcelerate/Actions/Util/ShowTemplatesIfAny">
		<argument NAME="label"  VALUE="Variables.label:"/>
		<argument NAME="showDummy" VALUE="true"/>
	</callelement>			

	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
	<tr>
		<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/Statusis"/>:</td>
		<td></td>
		<td><callelement NAME="OpenMarket/Xcelerate/Actions/Util/ChooseStatus">
			<argument NAME="showDummy" VALUE="true"/>
			</callelement></td>
	</tr>

  <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
   <ASSET.GETLEGALSUBTYPES TYPE="Variables.AssetType" LIST="subtypes" PUBID="SessionVariables.pubid"/>
      
	<tr>
		<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/Subtypeis"/>:</td>
		<td></td>
		<td>
			<SELECT Name="Subtype">
			  <OPTION VALUE=""/>-- <XLAT.STREAM KEY="dvin/Common/anysubtype"/> --
      	<if COND="Variables.Subtype!=Variables.empty">
        	<then>
         	<loop LIST="subtypes">
         		<if COND="subtypes.subtype!=Variables.empty">
         		<then>
	            	<if COND="Variables.Subtype=subtypes.subtype">
	               <then>
							<OPTION VALUE="subtypes.subtype" SELECTED="" REPLACEALL="subtypes.subtype"/><STRING.STREAM VALUE="subtypes.subtype"/>
	               </then>
	               <else>
	  					 	<OPTION VALUE="subtypes.subtype" REPLACEALL="subtypes.subtype"/><STRING.STREAM VALUE="subtypes.subtype"/>
	               </else>
	               </if>
	             </then>
	             </if>
			  </loop>
	 		</then>
         <else>
				<loop LIST="subtypes">
					<if COND="subtypes.subtype!=Variables.empty">
					<then>
	            	<IF COND="subtypes.subtype!=Variables.Subtype">
	               <THEN>
							<OPTION VALUE="subtypes.subtype" REPLACEALL="subtypes.subtype"/><STRING.STREAM VALUE="subtypes.subtype"/>
	
	               </THEN>
	               </IF>
					</then>
					</if>
				</loop>
         </else>
         </if>
		</SELECT></td>
		</tr>	

	<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/Util/ChooseCategory"/>

	<IF COND="Variables.AssetTypeObj:usesearchindex=1">
	<THEN>
		<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacerBar"/>
		<tr>
			<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/AT/DirectCSPropertycssearchengineexpression"/>:</td>
			<td></td>
			<td><TEXTAREA NAME="DirectQuery" ROWS="2" COLS="24" WRAP="virtual" VALUE="Variables.DirectQuery"  REPLACEALL="Variables.DirectQuery"></TEXTAREA></td>
		</tr>
	</THEN>
	</IF>

<!--Start of the start date/enddate attributes -->
	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>			
	<CALLELEMENT NAME="OpenMarket/Xcelerate/Scripts/CalendarWidget"/>   
	<ICS.GETPROPERTY NAME="ft.cgipath" OUTPUT="cgipath"/>									           						
	<XLAT.LOOKUP KEY="fatwire/Alloy/UI/PickADate" VARNAME="pickADateString" />
	<XLAT.LOOKUP KEY="fatwire/Alloy/UI/DatePicker" VARNAME="datePickerString" />        
    <tr>
        <td></td>
        <td></td>
        <td class="small-text"><XLAT.STREAM KEY="dvin/Common/Format"/>: 
				<if COND="Variables.AssetTypeObj:usesearchindex=1">
	    		<then>
						<if COND="Variables.seNickname=AV">
						<then>
								<XLAT.STREAM KEY="dvin/UI/Search/ddmmyyyy"/>
						</then>
						<else>
							<if COND="Variables.seNickname=Verity">
							<then>
									<XLAT.STREAM KEY="dvin/UI/Search/mmddyyyy"/>
							</then>
							<else>
   								 <XLAT.STREAM KEY="dvin/UI/Search/NoSearchEngineInstalled"/>
                            </else>
							</if>
						</else>
					</if>
					</then>
					<else>
						<XLAT.STREAM KEY="dvin/UI/Search/yyyymmddhhmi24hourclock"/>
					</else>
					</if>
				</td>
    </tr>
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>	 
    <tr>
        <td class="form-label-text">
		<if COND="Variables.AssetTypeObj:usesearchindexVariables.seNickname=1AV">
		<then>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/StartDateOnOrBefore" />:
		</then>
		<else>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/StartDateBefore" />:
		</else>
		</if>
	</td>
	<td></td>
        <td><INPUT TYPE="hidden" NAME="StartDateBefore" VALUE=""/>
	                <INPUT NAME="StartDateBeforeText" SIZE="18" MAXLENGTH="32"/>&nbsp;
			<span style="position:relative;top:-1px">
				<img id="StartDateBeforeText_trig" src='Variables.cs_imagedir/graphics/common/icon/calendar.gif' alt='Variables.pickADateString' ALIGN="ABSBOTTOM" TITLE='Variables.pickADateString'
					 border="0" onload="showCalendar('StartDateBeforeText','StartDateBeforeText_trig');" onmouseover="this.style.cursor='pointer'" REPLACEALL="Variables.pickADateString,Variables.cs_imagedir"/>
			</span>
         </td>
    </tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <tr>
        <td class="form-label-text">
		<if COND="Variables.AssetTypeObj:usesearchindexVariables.seNickname=1AV">
		<then>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/StartDateOnOrAfter" />:
		</then>
		<else>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/StartDateAfter" />:
		</else>
		</if>
	</td>
	<td></td>
        <td><INPUT TYPE="hidden" NAME="StartDateAfter" VALUE=""/>
	                <INPUT NAME="StartDateAfterText" SIZE="18" MAXLENGTH="32" />&nbsp;
			<span style="position:relative;top:-1px">
				<img id="StartDateAfterText_trig" src='Variables.cs_imagedir/graphics/common/icon/calendar.gif' alt='Variables.pickADateString' ALIGN="ABSBOTTOM" TITLE='Variables.pickADateString'
					border="0" onload="showCalendar('StartDateAfterText','StartDateAfterText_trig');" onmouseover="this.style.cursor='pointer'" REPLACEALL="Variables.pickADateString,Variables.cs_imagedir"/>
			</span>				              				              				                
         </td>
    </tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <tr>
        <td class="form-label-text">
		<if COND="Variables.AssetTypeObj:usesearchindexVariables.seNickname=1AV">
		<then>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/EndDateOnOrBefore" />:
		</then>
		<else>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/EndDateBefore" />:
		</else>
		</if>
	</td>
	<td></td>
        <td><INPUT TYPE="hidden" NAME="EndDateBefore" VALUE=""/>
	                <INPUT NAME="EndDateBeforeText" SIZE="18" MAXLENGTH="32"/>&nbsp;
				<span style="position:relative;top:-1px">
					<img id="EndDateBeforeText_trig" src='Variables.cs_imagedir/graphics/common/icon/calendar.gif' alt='Variables.pickADateString' ALIGN="ABSBOTTOM" TITLE='Variables.pickADateString'
						border="0" onload="showCalendar('EndDateBeforeText','EndDateBeforeText_trig');" onmouseover="this.style.cursor='pointer'" REPLACEALL="Variables.pickADateString,Variables.cs_imagedir"/>
				</span>
         </td>
    </tr>
	 <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <tr>
        <td class="form-label-text">
		<if COND="Variables.AssetTypeObj:usesearchindexVariables.seNickname=1AV">
		<then>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/EndDateOnOrAfter" />:
		</then>
		<else>
				<XLAT.STREAM KEY="fatwire/Alloy/UI/EndDateAfter" />:
		</else>
		</if>
	</td>
	<td></td>
        <td><INPUT TYPE="hidden" NAME="EndDateAfter" VALUE=""/>
	                <INPUT NAME="EndDateAfterText" SIZE="18" MAXLENGTH="32" />&nbsp;
				<span style="position:relative;top:-1px">
					<img id="EndDateAfterText_trig" src='Variables.cs_imagedir/graphics/common/icon/calendar.gif' alt='Variables.pickADateString' ALIGN="ABSBOTTOM" TITLE='Variables.pickADateString'
						border="0" onload="showCalendar('EndDateAfterText','EndDateAfterText_trig');" onmouseover="this.style.cursor='pointer'" REPLACEALL="Variables.pickADateString,Variables.cs_imagedir"/>
				</span>
         </td>
    </tr>

<!-- End of the start date/enddate attributes-->
    <!-- Start of locale search dropdown -->
         <callelement NAME="OpenMarket/Xcelerate/AssetType/Dimension/ShowDimensionsDropDown"/>
    <!-- end of locale search dropdown-->
	<callelement NAME="OpenMarket/Xcelerate/Actions/Search/SearchCommon"/>
    
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
	<tr>
    <td></td>
		<td></td><INPUT TYPE="HIDDEN" NAME="OrderByDesc" VALUE="Name"/>
		<td><XLAT.STREAM KEY="dvin/Common/SortResultsBy"/>&nbsp;
        <SELECT NAME="OrderBy" onChange="this.form.elements['OrderByDesc'].value=this[this.selectedIndex].text">
             <IF COND="Variables.OrderBy!=Variables.empty">
             <THEN>
                  <IF COND="Variables.OrderBy=Page.name">
                 <THEN>
					<OPTION VALUE="Page.name" SELECTED=""/><XLAT.STREAM KEY="dvin/Common/Name"/>
                 </THEN>
                 <ELSE>
  					<OPTION VALUE="Page.name"/><XLAT.STREAM KEY="dvin/Common/Name"/>
                 </ELSE>
                 </IF>
                 <IF COND="Variables.OrderBy=createdby">
                 <THEN>
 					<OPTION VALUE="createdby" SELECTED=""/><XLAT.STREAM KEY="dvin/Common/CreatedBy"/>
                 </THEN>
                 <ELSE>
  					<OPTION VALUE="createdby"/><XLAT.STREAM KEY="dvin/Common/CreatedBy"/>
                 </ELSE>
                 </IF>
                 <IF COND="Variables.OrderBy=createddate DESC">
                 <THEN>
 					<OPTION VALUE="createddate DESC" SELECTED=""/><XLAT.STREAM KEY="dvin/UI/Search/CreatedDate"/>
                 </THEN>
                 <ELSE>
  					<OPTION VALUE="createddate DESC"/><XLAT.STREAM KEY="dvin/UI/Search/CreatedDate"/>
                 </ELSE>
                 </IF>
                 <IF COND="Variables.OrderBy=updatedby">
                 <THEN>
 					<OPTION VALUE="updatedby" SELECTED=""/><XLAT.STREAM KEY="dvin/Common/ModifiedBy"/>
                 </THEN>
                 <ELSE>
  					<OPTION VALUE="updatedby"/><XLAT.STREAM KEY="dvin/Common/ModifiedBy"/>
                 </ELSE>
                 </IF>
                 <IF COND="Variables.OrderBy=updateddate DESC">
                 <THEN>
 					<OPTION VALUE="updateddate DESC" SELECTED=""/><XLAT.STREAM KEY="dvin/UI/Search/ModifiedDate"/>
                 </THEN>
                 <ELSE>
  					<OPTION VALUE="updateddate DESC"/><XLAT.STREAM KEY="dvin/UI/Search/ModifiedDate"/>
                 </ELSE>
                 </IF>
             </THEN>
             <ELSE>
 					<OPTION VALUE="Page.name" SELECTED=""/><XLAT.STREAM KEY="dvin/Common/Name"/>
					<!-- [insert Description] -->
					<OPTION VALUE="createdby"/><XLAT.STREAM KEY="dvin/Common/CreatedBy"/>
					<OPTION VALUE="createddate DESC"/><XLAT.STREAM KEY="dvin/UI/Search/CreatedDate"/>
					<OPTION VALUE="updatedby"/><XLAT.STREAM KEY="dvin/Common/ModifiedBy"/>
					<OPTION VALUE="updateddate DESC"/><XLAT.STREAM KEY="dvin/UI/Search/ModifiedDate"/>
             </ELSE>
             </IF>
	    	</SELECT>
       </td>
  </tr>

	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
	<tr>
		<td></td>
		<td></td>
		<td>
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
              <callelement NAME="OpenMarket/Xcelerate/Actions/Search/SearchFooter"/>
			</table>
		</td>
	</tr>
</table>

</FTCS>
